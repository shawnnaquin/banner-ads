function easeInOutCubic(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}function initAnimation(){reset()}function spawnColor(e){this.goFrames=0,this.color=rgbRedValue,this.iteration=e,this.fillColor=function(){this.goFrames<=20?(document.querySelector(".js-guage-svg > path:nth-child("+String(this.iteration)+")").style.fill="rgb("+rgbRedValue+","+this.color+","+this.color+")",this.color=this.color-rgbRedValue/20,this.goFrames=this.goFrames+1,this.reqAnim=requestAnimationFrame(this.fillColor.bind(this))):(this.goFrames=0,this.color=rgbRedValue,cancelAnimationFrame(this.reqAnim))}}function engageGuage(){var e,t=0;if(guageFrame<=100){var n=startDeg+easeInOutCubic(guageFrame,0,degRange,100),a=Math.ceil(easeInOutCubic(guageFrame,0,document.querySelectorAll(".js-guage-svg > path").length+1,100));document.querySelector(".js-needle").style.transform="rotateZ("+n+"deg)",t!=a&&(tickArray[a]=new spawnColor(a),tickArray[a].fillColor(),t=a),guageFrame++,e=requestAnimationFrame(engageGuage)}else guageFrame=0,cancelAnimationFrame(e)}function reset(){Array.prototype.forEach.call(document.querySelectorAll(".js-guage-svg > path"),function(e,t){e.style.fill=""}),document.querySelector(".js-needle").style.transform="rotateZ("+startDeg+"deg)",document.querySelector(".js-banner").classList.add("first-frame"),timeouts=[],tickArray=[],runAd()}function runAd(){engageGuage(),timeouts.push(setTimeout(function(){hideShow(0,1)},secondFrameStart)),timeouts.push(setTimeout(function(){hideShow(1,2)},secondFrameStart+1.16666*timeOnFrame))}function hideShow(e,t){document.querySelector(".js-"+layerArray[e]).style.opacity=0,document.querySelector(".js-"+layerArray[t]).style.opacity=1,0===e&&document.querySelector(".js-banner").classList.remove("first-frame")}function initEB(){EB.isInitialized()?startAd():EB.addEventListener(EBG.EventName.EB_INITIALIZED,startAd)}function startAd(){adDiv=document.getElementById("ad"),addEventListeners(),initAnimation()}function addEventListeners(){document.getElementById("ad").addEventListener("click",clickthrough)}function clickthrough(){EB.clickthrough()}for(var FRAME_RATE_INTERVAL=1e3/60,allCallbacks=[],executeAllScheduled=!1,shouldCheckCancelRaf=!1,callbacksForCancellation=[],isToBeCancelled=function(e){for(var t=0;t<callbacksForCancellation.length;t++)if(callbacksForCancellation[t]===e)return callbacksForCancellation.splice(t,1),!0},executeAll=function(){executeAllScheduled=!1;var e=allCallbacks;allCallbacks=[];for(var t=0;t<e.length;t++){if(!0===shouldCheckCancelRaf&&isToBeCancelled(e[t]))return void(shouldCheckCancelRaf=!1);e[t].apply(w,[(new Date).getTime()])}},raf=function(e){return allCallbacks.push(e),!1===executeAllScheduled&&(w.setTimeout(executeAll,FRAME_RATE_INTERVAL),executeAllScheduled=!0),e},cancelRaf=function(e){callbacksForCancellation.push(e),shouldCheckCancelRaf=!0},vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||w[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=raf),window.cancelAnimationFrame||(window.cancelAnimationFrame=cancelRaf),document.querySelectorAll||(document.body.className+=" red",document.querySelectorAll=function(e){var t,n=document.createElement("style"),a=[];for(document.documentElement.firstChild.appendChild(n),document._qsa=[],n.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),n.parentNode.removeChild(n);document._qsa.length;)t=document._qsa.shift(),t.style.removeAttribute("x-qsa"),a.push(t);return document._qsa=null,a}),document.querySelector||(document.querySelector=function(e){var t=document.querySelectorAll(e);return t.length?t[0]:null});var layerArray=["layer-one","layer-two","layer-three"],secondFrameStart=2300,timeOnFrame=3e3,startDeg=-90,degRange=180,guageFrame=0,tickArray=[],rgbRedValue=255,timeouts,adDiv;window.addEventListener("load",initEB);